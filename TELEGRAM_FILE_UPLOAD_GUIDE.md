# üì∏ Telegram Bot API: sendPhoto vs sendDocument - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

### `sendPhoto` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∫ —Ñ–æ—Ç–æ
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –≥–∞–ª–µ—Ä–µ–µ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞**: Telegram —Å–∂–∏–º–∞–µ—Ç –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–§–æ—Ä–º–∞—Ç—ã**: JPG, PNG, WebP, GIF (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ)
- **–†–∞–∑–º–µ—Ä**: –î–æ 10 –ú–ë
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –í –≤–∏–¥–µ –ø—Ä–µ–≤—å—é –≤ —á–∞—Ç–µ, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –≥–∞–ª–µ—Ä–µ–µ
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–∂–∞—Ç–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### `sendDocument` - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∫ —Ñ–∞–π–ª
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –§–∞–π–ª—ã –ª—é–±–æ–≥–æ —Ç–∏–ø–∞, –≤–∫–ª—é—á–∞—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞**: –ë–µ–∑ —Å–∂–∞—Ç–∏—è, —Ñ–∞–π–ª –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –≤–∏–¥–µ
- **–§–æ—Ä–º–∞—Ç—ã**: –õ—é–±—ã–µ (PNG, JPG, PDF, ZIP, –∏ —Ç.–¥.)
- **–†–∞–∑–º–µ—Ä**: –î–æ 50 –ú–ë
- **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –ö–∞–∫ —Ñ–∞–π–ª –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- **–ö–∞—á–µ—Å—Ç–≤–æ**: –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

## üö® –ü—Ä–æ–±–ª–µ–º–∞ IMAGE_PROCESS_FAILED

### –ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:
1. **AI-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ C2PA/Adobe
2. **PNG —Ñ–∞–π–ª—ã** —Å —Ü–∏—Ñ—Ä–æ–≤—ã–º–∏ –ø–æ–¥–ø–∏—Å—è–º–∏ (ChatGPT, DALL-E, Midjourney)
3. **–ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ** –∏–ª–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã
4. **–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ** —Ñ–∞–π–ª—ã –¥–ª—è —Ç–∏–ø–∞ `photo`
5. **–ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ** —Ñ–æ—Ä–º–∞—Ç—ã –¥–ª—è `sendPhoto`

### –í–∞—à —Å–ª—É—á–∞–π:
–í–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç ChatGPT —Å–æ–¥–µ—Ä–∂–∏—Ç **C2PA –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** - —Ü–∏—Ñ—Ä–æ–≤—ã–µ –ø–æ–¥–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ Telegram API –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `sendPhoto`.

## ‚úÖ –†–µ—à–µ–Ω–∏—è

### 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sendDocument` –¥–ª—è AI-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```yaml
- name: Send AI-generated image
  uses: ./
  with:
    telegram_token: ${{ secrets.TELEGRAM_TOKEN }}
    chat_id: ${{ secrets.CHAT_ID }}
    file_path: "ai-generated-image.png"
    file_type: "document"  # ‚Üê –ö–ª—é—á–µ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
    caption: |
      ü§ñ AI-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
      
      –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤ Action
–ù–∞—à enhanced action **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ PNG —Ñ–∞–π–ª—ã:

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
if (ext === '.png' && this.fileType === 'photo') {
  const bufferStr = fileBuffer.toString('binary');
  if (bufferStr.includes('c2pa') || bufferStr.includes('C2PA') || bufferStr.includes('jumb')) {
    this.warning('PNG contains C2PA metadata. Consider using document type.');
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ document
    this.fileType = 'document';
  }
}
```

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø–∞–º —Ñ–∞–π–ª–æ–≤

| –¢–∏–ø –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –º–µ—Ç–æ–¥ | –ü—Ä–∏—á–∏–Ω–∞ |
|-----------------|-------------------|---------|
| **AI-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ** (ChatGPT, DALL-E) | `sendDocument` | –°–æ–¥–µ—Ä–∂–∞—Ç C2PA –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ |
| **–°–∫—Ä–∏–Ω—à–æ—Ç—ã** | `sendPhoto` | –ü—Ä–æ—Å—Ç—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–µ–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö |
| **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å –∫–∞–º–µ—Ä—ã** | `sendPhoto` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ JPEG —Ñ–∞–π–ª—ã |
| **PNG —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é** | `sendDocument` | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–∞ |
| **–ë–æ–ª—å—à–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** (>10MB) | `sendDocument` | –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –¥–ª—è photo |
| **GIF –∞–Ω–∏–º–∞—Ü–∏–∏** | `sendAnimation` | –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π |
| **WebP —Ñ–∞–π–ª—ã** | `sendDocument` | –õ—É—á—à–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å |

## üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—ã—á–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
```yaml
- uses: ./
  with:
    telegram_token: ${{ secrets.TELEGRAM_TOKEN }}
    chat_id: ${{ secrets.CHAT_ID }}
    file_path: "screenshot.jpg"
    file_type: "photo"
    caption: "–°–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ AI-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```yaml
- uses: ./
  with:
    telegram_token: ${{ secrets.TELEGRAM_TOKEN }}
    chat_id: ${{ secrets.CHAT_ID }}
    file_path: "chatgpt-image.png"
    file_type: "document"  # –ò–∑–±–µ–≥–∞–µ–º IMAGE_PROCESS_FAILED
    caption: "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç ChatGPT"
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º
```yaml
- uses: ./
  with:
    telegram_token: ${{ secrets.TELEGRAM_TOKEN }}
    chat_id: ${{ secrets.CHAT_ID }}
    file_path: "unknown-image.png"
    file_type: "photo"  # Action –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ document –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
    caption: "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ç–∏–ø–∞"
```

## üé® –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### sendPhoto (—Å–∂–∞—Ç–∏–µ):
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚ùå –í–æ–∑–º–æ–∂–Ω–∞ –ø–æ—Ç–µ—Ä—è –∫–∞—á–µ—Å—Ç–≤–∞
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å C2PA –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

### sendDocument (–±–µ–∑ —Å–∂–∞—Ç–∏—è):
- ‚úÖ –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ë–æ–ª—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞
- ‚ùå –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ —Ñ–∞–π–ª, –Ω–µ –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

## üìä –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –≤—ã—Å–æ–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ

–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç** –º–∞—Å—Å–∏–≤–∞ `photo`:

```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ç–æ –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∫–∞—á–µ—Å—Ç–≤–µ
const highestQuality = message.photo[message.photo.length - 1];
const fileId = highestQuality.file_id;

// –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
const file = await bot.getFile(fileId);
const fileUrl = `https://api.telegram.org/file/bot${TOKEN}/${file.file_path}`;
```

## üõ†Ô∏è –ù–∞—à–∏ —É–ª—É—á—à–µ–Ω–∏—è –≤ Action

1. **‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** C2PA –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
2. **‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤** –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
3. **‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ MIME-—Ç–∏–ø—ã** –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
4. **‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** –æ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
5. **‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** —Ç–∏–ø–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è (AI-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è):
```yaml
file_type: "document"  # ‚Üê –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ –¥–ª—è ChatGPT –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```

### –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞:
- **–ü—Ä–æ—Å—Ç—ã–µ —Ñ–æ—Ç–æ** ‚Üí `sendPhoto`
- **AI-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** ‚Üí `sendDocument`
- **–§–∞–π–ª—ã >10MB** ‚Üí `sendDocument`
- **PNG —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏** ‚Üí `sendDocument`
- **–ù—É–∂–Ω–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** ‚Üí `sendDocument`

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–¢–µ–ø–µ—Ä—å –≤–∞—à enhanced Telegram Notify Action:
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ PNG —Ñ–∞–π–ª—ã
- ‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç** –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç** –≤—Å–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç** —Å AI-—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

**–ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ IMAGE_PROCESS_FAILED!** üéâ