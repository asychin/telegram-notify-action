# üìä –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Telegram Notify Action

## üîÑ –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

Action –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `vars[format()]` –∏ `secrets[format()]` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π (dev, prod, staging).

### üîß –§–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```yaml
# –°–µ–∫—Ä–µ—Ç—ã (—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
telegram_token: ${{ secrets[format('TELEGRAM_BOT_TOKEN_{0}', github.ref_name)] }}

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–ø—É–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)  
chat_id: ${{ vars[format('TELEGRAM_CHAT_ID_{0}', github.ref_name)] }}
message_thread_id: ${{ vars[format('TELEGRAM_DEPLOYMENT_TOPIC_ID_{0}', github.ref_name)] }}
```

## üìã –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ GitHub

### üîê Secrets (Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí Secrets)

| –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|----------------|----------|-----------------|
| `TELEGRAM_BOT_TOKEN_DEV` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è dev –æ–∫—Ä—É–∂–µ–Ω–∏—è | `1234567890:AABBCCDDEEFFGGHHIIJJKKLLMMNNOOPPQQx` |
| `TELEGRAM_BOT_TOKEN_PROD` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è prod –æ–∫—Ä—É–∂–µ–Ω–∏—è | `0987654321:ZZYYXXWWVVUUTTSSRRQQPPOONNMMLLKKJJy` |
| `TELEGRAM_BOT_TOKEN_STAGING` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–ª—è staging –æ–∫—Ä—É–∂–µ–Ω–∏—è | `5555555555:MIDDLEtokenVALUEforSTAGINGenvironmentz` |

### üìä Variables (Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí Variables)

#### Telegram –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º –≤–µ—Ç–∫–∏):

| –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|----------------|----------|-----------------|
| `TELEGRAM_CHAT_ID_DEV` | Chat ID –¥–ª—è dev —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | `-1004929055822` |
| `TELEGRAM_CHAT_ID_PROD` | Chat ID –¥–ª—è prod —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π | `-1005555555555` |
| `TELEGRAM_DEPLOYMENT_TOPIC_ID_DEV` | Topic ID –¥–ª—è dev –¥–µ–ø–ª–æ–µ–≤ | `2` |
| `TELEGRAM_DEPLOYMENT_TOPIC_ID_PROD` | Topic ID –¥–ª—è prod –¥–µ–ø–ª–æ–µ–≤ | `5` |

#### –û–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–±–µ–∑ —Å—É—Ñ—Ñ–∏–∫—Å–∞ –≤–µ—Ç–∫–∏):

| –ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|----------------|----------|-----------------|
| `OS_VERSION` | –í–µ—Ä—Å–∏—è –û–° –¥–ª—è runner | `ubuntu-latest` |
| `REGISTRY_URL` | URL Docker registry | `nexus-trillions-api.wsdemo.online` |
| `SONAR_HOST_URL_DEV` | URL SonarQube –¥–ª—è dev | `https://sq.crypton.studio` |
| `USE_VPN_DEV` | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VPN –¥–ª—è dev | `true` |

## üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

Action –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏ –≤–µ—Ç–∫–∏:

- **–í–µ—Ç–∫–∞ `dev`** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_DEV`
- **–í–µ—Ç–∫–∞ `prod`** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_PROD`  
- **–í–µ—Ç–∫–∞ `staging`** ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `_STAGING`

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –î–ª—è –≤–µ—Ç–∫–∏ `dev`:
```yaml
telegram_token: ${{ secrets.TELEGRAM_BOT_TOKEN_DEV }}  # TELEGRAM_BOT_TOKEN_DEV
chat_id: ${{ vars.TELEGRAM_CHAT_ID_DEV }}             # TELEGRAM_CHAT_ID_DEV
```

### –î–ª—è –≤–µ—Ç–∫–∏ `prod`:
```yaml
telegram_token: ${{ secrets.TELEGRAM_BOT_TOKEN_PROD }} # TELEGRAM_BOT_TOKEN_PROD
chat_id: ${{ vars.TELEGRAM_CHAT_ID_PROD }}            # TELEGRAM_CHAT_ID_PROD
```

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π) —Å–ø–æ—Å–æ–±:
```yaml
telegram_token: ${{ secrets[format('TELEGRAM_BOT_TOKEN_{0}', github.ref_name)] }}
chat_id: ${{ vars[format('TELEGRAM_CHAT_ID_{0}', github.ref_name)] }}
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

1. **üîÑ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω workflow –¥–ª—è –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
2. **üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Ä–∞–∑–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
3. **üìä –ò–∑–æ–ª—è—Ü–∏—è** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —á–∞—Ç—ã
4. **üéØ –ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
5. **üõ†Ô∏è Maintainability** - –æ–¥–∏–Ω –∫–æ–¥, —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- ‚úÖ `TELEGRAM_BOT_TOKEN_{BRANCH}` - –≤—Å–µ–≥–¥–∞ –≤ Secrets
- ‚úÖ `TELEGRAM_CHAT_ID_{BRANCH}` - –º–æ–∂–Ω–æ –≤ Variables

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- üîß `TELEGRAM_DEPLOYMENT_TOPIC_ID_{BRANCH}` - –¥–ª—è —Ç–æ–ø–∏–∫–æ–≤
- üîß –î—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–∞—à–∏—Ö –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π

### Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:
–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ç–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, workflow —É–ø–∞–¥–µ—Ç —Å –æ—à–∏–±–∫–æ–π. –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤–µ—Ç–æ–∫.

---

**üí° –°–æ–≤–µ—Ç:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –≤–µ—Ç–æ–∫ (dev, prod, staging) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è.