# üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è v3.0** - Telegram Notify Action —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ GitHub —Å–æ–±—ã—Ç–∏–π –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

## üéØ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

**–î–æ (v2.x):**

```yaml
template_vars: |
  {
    "author": "${{ github.event.issue.user.login }}",
    "issueNumber": "${{ github.event.issue.number }}",
    "issueTitle": "${{ github.event.issue.title }}",
    "labels": "${{ join(github.event.issue.labels.*.name, ', ') }}",
    "customField": "my custom value"
  }
```

**–ü–æ—Å–ª–µ (v3.0):**

```yaml
template_vars: |
  {
    "customField": "my custom value"
    # author, issueNumber, issueTitle, labels —É–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
  }
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –û–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–¥–ª—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è      | –û–ø–∏—Å–∞–Ω–∏–µ                             | –ü—Ä–∏–º–µ—Ä                 |
| --------------- | ------------------------------------ | ---------------------- |
| `triggerUser`   | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–≤—à–∏–π —Å–æ–±—ã—Ç–∏–µ | `"john-doe"`           |
| `triggerUserId` | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                      | `12345`                |
| `action`        | –î–µ–π—Å—Ç–≤–∏–µ —Å–æ–±—ã—Ç–∏—è                     | `"opened"`, `"closed"` |

### –°–æ–±—ã—Ç–∏—è Issues (`issues`)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è    | –û–ø–∏—Å–∞–Ω–∏–µ                    | –ü—Ä–∏–º–µ—Ä                    |
| ------------- | --------------------------- | ------------------------- |
| `author`      | –ê–≤—Ç–æ—Ä issue                 | `"jane-smith"`            |
| `issueNumber` | –ù–æ–º–µ—Ä issue                 | `123`                     |
| `issueTitle`  | –ó–∞–≥–æ–ª–æ–≤–æ–∫ issue             | `"Bug in login form"`     |
| `issueState`  | –°–æ—Å—Ç–æ—è–Ω–∏–µ issue             | `"open"`, `"closed"`      |
| `issueBody`   | –¢–µ–ª–æ issue                  | `"Steps to reproduce..."` |
| `labels`      | –ú–µ—Ç–∫–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)       | `"bug, urgent, frontend"` |
| `assignees`   | –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) | `"dev1, dev2"`            |
| `createdAt`   | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è               | `"2024-01-15T10:30:00Z"`  |
| `updatedAt`   | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è             | `"2024-01-15T10:35:00Z"`  |

### –°–æ–±—ã—Ç–∏—è Pull Request (`pull_request`)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è   | –û–ø–∏—Å–∞–Ω–∏–µ       | –ü—Ä–∏–º–µ—Ä                         |
| ------------ | -------------- | ------------------------------ |
| `author`     | –ê–≤—Ç–æ—Ä PR       | `"developer"`                  |
| `prNumber`   | –ù–æ–º–µ—Ä PR       | `42`                           |
| `prTitle`    | –ó–∞–≥–æ–ª–æ–≤–æ–∫ PR   | `"Add new feature"`            |
| `prState`    | –°–æ—Å—Ç–æ—è–Ω–∏–µ PR   | `"open"`, `"closed"`           |
| `prBody`     | –û–ø–∏—Å–∞–Ω–∏–µ PR    | `"This PR adds..."`            |
| `baseBranch` | –ë–∞–∑–æ–≤–∞—è –≤–µ—Ç–∫–∞  | `"main"`                       |
| `headBranch` | –ò—Å—Ö–æ–¥–Ω–∞—è –≤–µ—Ç–∫–∞ | `"feature-auth"`               |
| `isDraft`    | –ß–µ—Ä–Ω–æ–≤–∏–∫?      | `true`, `false`                |
| `mergeable`  | –ú–æ–∂–Ω–æ –º–µ—Ä–∂–∏—Ç—å? | `true`, `false`                |
| `labels`     | –ú–µ—Ç–∫–∏          | `"enhancement, review-needed"` |
| `assignees`  | –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ    | `"reviewer1, reviewer2"`       |

### –°–æ–±—ã—Ç–∏—è Push (`push`)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è          | –û–ø–∏—Å–∞–Ω–∏–µ                     | –ü—Ä–∏–º–µ—Ä              |
| ------------------- | ---------------------------- | ------------------- |
| `pusher`            | –ö—Ç–æ —Å–¥–µ–ª–∞–ª push              | `"developer"`       |
| `pusherId`          | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è              | `54321`             |
| `commitCount`       | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–∏—Ç–æ–≤          | `3`                 |
| `lastCommitMessage` | –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞ | `"Fix bug in auth"` |
| `lastCommitAuthor`  | –ê–≤—Ç–æ—Ä –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞     | `"John Doe"`        |
| `lastCommitId`      | ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–æ–º–º–∏—Ç–∞        | `"abc123..."`       |

### –°–æ–±—ã—Ç–∏—è Release (`release`)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è      | –û–ø–∏—Å–∞–Ω–∏–µ        | –ü—Ä–∏–º–µ—Ä                   |
| --------------- | --------------- | ------------------------ |
| `releaseAuthor` | –ê–≤—Ç–æ—Ä —Ä–µ–ª–∏–∑–∞    | `"maintainer"`           |
| `releaseName`   | –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞ | `"v2.1.0"`               |
| `releaseTag`    | –¢–µ–≥ —Ä–µ–ª–∏–∑–∞      | `"v2.1.0"`               |
| `releaseBody`   | –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞ | `"## What's Changed..."` |
| `isPrerelease`  | –ü—Ä–µ-—Ä–µ–ª–∏–∑?      | `true`, `false`          |
| `isDraft`       | –ß–µ—Ä–Ω–æ–≤–∏–∫?       | `true`, `false`          |

### –°–æ–±—ã—Ç–∏—è Deployment (`deployment`, `deployment_status`)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è              | –û–ø–∏—Å–∞–Ω–∏–µ             | –ü—Ä–∏–º–µ—Ä                   |
| ----------------------- | -------------------- | ------------------------ |
| `deploymentId`          | ID —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è     | `123456`                 |
| `deploymentEnvironment` | –û–∫—Ä—É–∂–µ–Ω–∏–µ            | `"production"`           |
| `deploymentState`       | –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è | `"success"`, `"failure"` |
| `deploymentDescription` | –û–ø–∏—Å–∞–Ω–∏–µ             | `"Deploy v2.1.0"`        |

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä - Issues

```yaml
- name: Issue Notification
  uses: asychin/telegram-notify-action@v3
  with:
    telegram_token: ${{ secrets.TELEGRAM_BOT_TOKEN }}
    chat_id: ${{ secrets.TELEGRAM_CHAT_ID }}
    template: warning
    message: |
      üêõ **–ù–æ–≤—ã–π Issue**

      **–ê–≤—Ç–æ—Ä:** {{author}}
      **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** {{issueTitle}}
      **–ù–æ–º–µ—Ä:** #{{issueNumber}}
      **–ú–µ—Ç–∫–∏:** {{labels}}
    # –ë–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å—ã–≤–∞—Ç—å author, issueTitle, etc. –≤ template_vars!
```

### –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```yaml
template_vars: |
  {
    "author": "–í–∞—Å—è –ü—É–ø–∫–∏–Ω",  # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    "customNote": "–°—Ä–æ—á–Ω–æ!"
  }
```

### Pull Request —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```yaml
- name: PR Notification
  uses: asychin/telegram-notify-action@v3
  with:
    telegram_token: ${{ secrets.TELEGRAM_BOT_TOKEN }}
    chat_id: ${{ secrets.TELEGRAM_CHAT_ID }}
    template: info
    message: |
      üîÄ **Pull Request**

      **–ê–≤—Ç–æ—Ä:** {{author}}
      **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** {{prTitle}}
      **–í–µ—Ç–∫–∏:** {{headBranch}} ‚Üí {{baseBranch}}
      **–°—Ç–∞—Ç—É—Å:** {{prState}}
      **–ß–µ—Ä–Ω–æ–≤–∏–∫:** {{isDraft}}
```

## üîß –û—Ç–ª–∞–¥–∫–∞

–í–∫–ª—é—á–∏—Ç–µ debug —Ä–µ–∂–∏–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```yaml
env:
  ACTIONS_STEP_DEBUG: true
```

–í –ª–æ–≥–∞—Ö –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
Available template variables: repository, refName, sha, author, issueNumber, issueTitle, labels, customVar
Automatic event variables: author, issueNumber, issueTitle, labels, createdAt, updatedAt
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –º–µ–Ω—å—à–µ boilerplate –∫–æ–¥–∞
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ** - –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É GitHub events
3. **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ missing properties
4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ workflow –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
5. **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç

## üìù –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—Ç–∞—Ä—ã–µ workflow —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ ‚Üí GitHub Context
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π**: issues, pull_request, push, release, deployment
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–æ–∫

---

**üéØ –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Telegram Notify Action –∏ –¥–µ–ª–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –±–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–π!**
