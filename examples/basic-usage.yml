name: Basic Telegram Notification

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send basic notification
        uses: asychin/telegram-notify-action@v3
        with:
          telegram_token: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          chat_id: ${{ secrets.TELEGRAM_CHAT_ID }}
          template: info
          message: |
            üöÄ **–ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**
            
            **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** {{repository}}
            **–í–µ—Ç–∫–∞:** {{refName}}
            **–°–æ–±—ã—Ç–∏–µ:** {{eventName}}
            **–ê–≤—Ç–æ—Ä:** {{actor}}
            **SHA:** {{sha}}
            **Workflow:** {{workflow}}
            **–ó–∞–¥–∞—á–∞:** {{job}}
            **–ó–∞–ø—É—Å–∫:** #{{runNumber}}
            
            üè¢ **–í–ª–∞–¥–µ–ª–µ—Ü:** {{repositoryOwner}}
            üîó **URL:** {{serverUrl}}/{{repository}}

      - name: Send notification with custom variables
        uses: asychin/telegram-notify-action@v3
        with:
          telegram_token: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          chat_id: ${{ secrets.TELEGRAM_CHAT_ID }}
          template: success
          message: |
            ‚úÖ **–£—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**
            
            **–û–∫—Ä—É–∂–µ–Ω–∏–µ:** {{actionsEnvironment}}
            **Runner:** {{runnerName}} ({{runnerOs}})
            **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** {{runnerArch}}
            **Workspace:** {{workspace}}
            
            üìä **–î–µ—Ç–∞–ª–∏ –∑–∞–ø—É—Å–∫–∞:**
            - ID: {{runId}}
            - –ù–æ–º–µ—Ä: {{runNumber}}
            - –ü–æ–ø—ã—Ç–∫–∞: {{runAttempt}}
            - –¢–∏–ø —Å—Å—ã–ª–∫–∏: {{refType}}

